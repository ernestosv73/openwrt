name: openwrt

topology:
  nodes:
    openwrt:
      kind: linux
      image: waltplatform/pc-x86-64-openwrt:latest
      publish:
        # tcp port 22 will be published and accessible to anyone
        - tcp/22
             
    PC1:
      kind: linux
      image: wbitt/network-multitool:extra
      exec:
       - ip -6 route del default dev eth0
       - ip addr add 192.168.10.10/24 dev eth1
 
    PC2:
      kind: linux
      image: wbitt/network-multitool:extra
      exec:
       - ip -6 route del default dev eth0
       - ip addr add 10.0.0.10/24 dev eth1
      
  links:
    - endpoints: ["PC1:eth1", "openwrt:eth2"] 
    - endpoints: ["openwrt:eth3", "PC2:eth1"]
    
